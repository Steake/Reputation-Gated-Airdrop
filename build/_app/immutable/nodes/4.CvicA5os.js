const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/C5PuhdNm.js","../chunks/CkpMGzDD.js","../chunks/D7JtYkVa.js","../chunks/C_t4NNnx.js","../chunks/DSf5CCKz.js","../chunks/DVzSPLFO.js"])))=>i.map(i=>d[i]);
import{g as Ae,r as Le,a as Re,b as He,c as Fe}from"../chunks/Cif_nlct.js";import{w as ve,a as Ne}from"../chunks/DVzSPLFO.js";import{F as Oe,S as xe,i as ye,s as we,d as _,t as K,b as W,c as ne,I as Ve,H as Se,e as j,f as n,g as p,h as v,j as D,o as H,l as P,n as I,p as b,r as T,u as A,v as ie,x as z,O as ke,a as X,m as ee,k as te,q as re,P as je,w as qe,Q as Ye}from"../chunks/CkpMGzDD.js";import{t as De,a as Be,S as Ce}from"../chunks/DWrf3fBu.js";import"../chunks/DeLFGIcD.js";import{s as me,a as fe}from"../chunks/DVA-0dvT.js";import{a as Me}from"../chunks/Bo1MR9HF.js";import{_ as Ue}from"../chunks/C_t4NNnx.js";import{p as ze}from"../chunks/DhkuV_VT.js";import{t as he}from"../chunks/CBm4X0jT.js";import{by as Ge,bz as Pe,bA as Ke,bB as be,bC as _e}from"../chunks/C5PuhdNm.js";import{C as We,a as Ze}from"../chunks/BDJT1_Kd.js";import{C as Qe}from"../chunks/D16MFc_Z.js";(function(){try{var i=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};i.SENTRY_RELEASE={id:"b1e593ae5130a8a866939fcd32d632e0f276c846"}}catch{}})();try{(function(){var i=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},e=new i.Error().stack;e&&(i._sentryDebugIds=i._sentryDebugIds||{},i._sentryDebugIds[e]="8c22b749-f1d6-48a0-95fa-e25ba16bd205",i._sentryDebugIdIdentifier="sentry-dbid-8c22b749-f1d6-48a0-95fa-e25ba16bd205")})()}catch{}async function Je({parent:i}){const{config:e}=await i(),t=Oe(ve);if(!t.connected||!t.address)return{scoreData:null};typeof window<"u"&&De(0,void 0);try{const r=await Ae(t.address),a=(r==null?void 0:r.score)||0,d=r==null?void 0:r.community;return typeof window<"u"&&Be(a,d),{scoreData:r}}catch(r){return console.error("Failed to load score for claim page:",r),typeof window<"u"&&De(0,void 0),{scoreData:null,error:"Failed to load reputation score."}}}const Ft=Object.freeze(Object.defineProperty({__proto__:null,load:Je},Symbol.toStringTag,{value:"Module"}));function Xe(i){let e,t="Loading...";return{c(){e=b("p"),e.textContent=t,this.h()},l(r){e=v(r,"P",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-kkkt87"&&(e.textContent=t),this.h()},h(){p(e,"class","text-3xl font-bold text-gray-400")},m(r,a){j(r,e,a)},p:z,d(r){r&&_(e)}}}function et(i){let e,t=be(i[4].payout,i[4].decimals)+"",r,a;return{c(){e=b("p"),r=A(t),a=A(" Tokens"),this.h()},l(d){e=v(d,"P",{class:!0});var s=D(e);r=I(s,t),a=I(s," Tokens"),s.forEach(_),this.h()},h(){p(e,"class","text-3xl font-bold text-brand")},m(d,s){j(d,e,s),n(e,r),n(e,a)},p(d,s){s&16&&t!==(t=be(d[4].payout,d[4].decimals)+"")&&ne(r,t)},d(d){d&&_(e)}}}function tt(i){let e,t,r,a,d="Claim Failed",s,o,l,m,u,c="Retry",x,f,g;return t=new Ze({props:{class:"h-12 w-12 mx-auto"}}),{c(){e=b("div"),re(t.$$.fragment),r=T(),a=b("p"),a.textContent=d,s=T(),o=b("p"),l=A(i[2]),m=T(),u=b("button"),u.textContent=c,this.h()},l(h){e=v(h,"DIV",{class:!0});var y=D(e);te(t.$$.fragment,y),r=P(y),a=v(y,"P",{class:!0,"data-svelte-h":!0}),H(a)!=="svelte-1edxg7x"&&(a.textContent=d),s=P(y),o=v(y,"P",{class:!0});var E=D(o);l=I(E,i[2]),E.forEach(_),m=P(y),u=v(y,"BUTTON",{class:!0,"data-svelte-h":!0}),H(u)!=="svelte-1cpo8zc"&&(u.textContent=c),y.forEach(_),this.h()},h(){p(a,"class","text-xl font-bold"),p(o,"class","text-sm"),p(u,"class","mt-4 rounded-md bg-brand px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-brand-dark focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-brand"),p(e,"class","text-center space-y-4 p-4 text-red-700 bg-red-50 rounded-lg border border-red-200")},m(h,y){j(h,e,y),ee(t,e,null),n(e,r),n(e,a),n(e,s),n(e,o),n(o,l),n(e,m),n(e,u),x=!0,f||(g=ke(u,"click",i[6]),f=!0)},p(h,y){(!x||y&4)&&ne(l,h[2])},i(h){x||(W(t.$$.fragment,h),x=!0)},o(h){K(t.$$.fragment,h),x=!1},d(h){h&&_(e),X(t),f=!1,g()}}}function rt(i){let e,t,r,a,d="Claim Successful!",s,o,l,m,u,c;t=new We({props:{class:"h-12 w-12 mx-auto"}});function x(h,y){return h[4]?it:st}let f=x(i),g=f(i);return{c(){e=b("div"),re(t.$$.fragment),r=T(),a=b("p"),a.textContent=d,s=T(),g.c(),o=T(),l=b("a"),m=A("View Transaction"),this.h()},l(h){e=v(h,"DIV",{class:!0});var y=D(e);te(t.$$.fragment,y),r=P(y),a=v(y,"P",{class:!0,"data-svelte-h":!0}),H(a)!=="svelte-cce7eb"&&(a.textContent=d),s=P(y),g.l(y),o=P(y),l=v(y,"A",{href:!0,target:!0,rel:!0,class:!0});var E=D(l);m=I(E,"View Transaction"),E.forEach(_),y.forEach(_),this.h()},h(){p(a,"class","text-xl font-bold"),p(l,"href",u="https://sepolia.etherscan.io/tx/"+i[3]),p(l,"target","_blank"),p(l,"rel","noopener noreferrer"),p(l,"class","text-sm text-green-800 hover:underline font-semibold"),p(e,"class","text-center space-y-4 p-4 text-green-700 bg-green-50 rounded-lg border border-green-200")},m(h,y){j(h,e,y),ee(t,e,null),n(e,r),n(e,a),n(e,s),g.m(e,null),n(e,o),n(e,l),n(l,m),c=!0},p(h,y){f===(f=x(h))&&g?g.p(h,y):(g.d(1),g=f(h),g&&(g.c(),g.m(e,o))),(!c||y&8&&u!==(u="https://sepolia.etherscan.io/tx/"+h[3]))&&p(l,"href",u)},i(h){c||(W(t.$$.fragment,h),c=!0)},o(h){K(t.$$.fragment,h),c=!1},d(h){h&&_(e),X(t),g.d()}}}function nt(i){let e,t,r,a,d="Transaction in progress...",s,o,l="Waiting for blockchain confirmation.",m,u,c,x,f;return t=new Ce({}),{c(){e=b("div"),re(t.$$.fragment),r=T(),a=b("p"),a.textContent=d,s=T(),o=b("p"),o.textContent=l,m=T(),u=b("a"),c=A("View on Etherscan"),this.h()},l(g){e=v(g,"DIV",{class:!0});var h=D(e);te(t.$$.fragment,h),r=P(h),a=v(h,"P",{class:!0,"data-svelte-h":!0}),H(a)!=="svelte-16gupta"&&(a.textContent=d),s=P(h),o=v(h,"P",{class:!0,"data-svelte-h":!0}),H(o)!=="svelte-rdhjv"&&(o.textContent=l),m=P(h),u=v(h,"A",{href:!0,target:!0,rel:!0,class:!0});var y=D(u);c=I(y,"View on Etherscan"),y.forEach(_),h.forEach(_),this.h()},h(){p(a,"class","font-semibold"),p(o,"class","text-sm text-gray-500"),p(u,"href",x="https://sepolia.etherscan.io/tx/"+i[3]),p(u,"target","_blank"),p(u,"rel","noopener noreferrer"),p(u,"class","text-xs text-brand hover:underline"),p(e,"class","text-center space-y-2 p-4")},m(g,h){j(g,e,h),ee(t,e,null),n(e,r),n(e,a),n(e,s),n(e,o),n(e,m),n(e,u),n(u,c),f=!0},p(g,h){(!f||h&8&&x!==(x="https://sepolia.etherscan.io/tx/"+g[3]))&&p(u,"href",x)},i(g){f||(W(t.$$.fragment,g),f=!0)},o(g){K(t.$$.fragment,g),f=!1},d(g){g&&_(e),X(t)}}}function at(i){let e,t,r,a,d="Awaiting wallet confirmation",s,o,l="Please approve the transaction in your wallet.",m;return t=new Ce({}),{c(){e=b("div"),re(t.$$.fragment),r=T(),a=b("p"),a.textContent=d,s=T(),o=b("p"),o.textContent=l,this.h()},l(u){e=v(u,"DIV",{class:!0});var c=D(e);te(t.$$.fragment,c),r=P(c),a=v(c,"P",{class:!0,"data-svelte-h":!0}),H(a)!=="svelte-k2lv76"&&(a.textContent=d),s=P(c),o=v(c,"P",{class:!0,"data-svelte-h":!0}),H(o)!=="svelte-1vripsv"&&(o.textContent=l),c.forEach(_),this.h()},h(){p(a,"class","font-semibold"),p(o,"class","text-sm text-gray-500"),p(e,"class","text-center space-y-2 p-4")},m(u,c){j(u,e,c),ee(t,e,null),n(e,r),n(e,a),n(e,s),n(e,o),m=!0},p:z,i(u){m||(W(t.$$.fragment,u),m=!0)},o(u){K(t.$$.fragment,u),m=!1},d(u){u&&_(e),X(t)}}}function ot(i){let e,t,r,a,d="Fetching claim data...",s,o,l="Preparing your on-chain transaction.",m;return t=new Ce({}),{c(){e=b("div"),re(t.$$.fragment),r=T(),a=b("p"),a.textContent=d,s=T(),o=b("p"),o.textContent=l,this.h()},l(u){e=v(u,"DIV",{class:!0});var c=D(e);te(t.$$.fragment,c),r=P(c),a=v(c,"P",{class:!0,"data-svelte-h":!0}),H(a)!=="svelte-wfpn0w"&&(a.textContent=d),s=P(c),o=v(c,"P",{class:!0,"data-svelte-h":!0}),H(o)!=="svelte-1si6vn0"&&(o.textContent=l),c.forEach(_),this.h()},h(){p(a,"class","font-semibold"),p(o,"class","text-sm text-gray-500"),p(e,"class","text-center space-y-2 p-4")},m(u,c){j(u,e,c),ee(t,e,null),n(e,r),n(e,a),n(e,s),n(e,o),m=!0},p:z,i(u){m||(W(t.$$.fragment,u),m=!0)},o(u){K(t.$$.fragment,u),m=!1},d(u){u&&_(e),X(t)}}}function lt(i){let e,t="Claim Now",r,a;return{c(){e=b("button"),e.textContent=t,this.h()},l(d){e=v(d,"BUTTON",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-1d8oeov"&&(e.textContent=t),this.h()},h(){p(e,"class","w-full justify-center rounded-md bg-brand px-6 py-3 text-lg font-semibold text-white shadow-sm hover:bg-brand-dark focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-brand")},m(d,s){j(d,e,s),r||(a=ke(e,"click",i[6]),r=!0)},p:z,i:z,o:z,d(d){d&&_(e),r=!1,a()}}}function st(i){let e,t="You have successfully claimed tokens.";return{c(){e=b("p"),e.textContent=t},l(r){e=v(r,"P",{"data-svelte-h":!0}),H(e)!=="svelte-4jg0o5"&&(e.textContent=t)},m(r,a){j(r,e,a)},p:z,d(r){r&&_(e)}}}function it(i){let e,t,r=be(i[4].payout,i[4].decimals)+"",a,d;return{c(){e=b("p"),t=A("You have successfully claimed "),a=A(r),d=A(" tokens.")},l(s){e=v(s,"P",{});var o=D(e);t=I(o,"You have successfully claimed "),a=I(o,r),d=I(o," tokens."),o.forEach(_)},m(s,o){j(s,e,o),n(e,t),n(e,a),n(e,d)},p(s,o){o&16&&r!==(r=be(s[4].payout,s[4].decimals)+"")&&ne(a,r)},d(s){s&&_(e)}}}function ct(i){let e,t,r,a="You're Eligible to Claim!",d,s,o,l=(i[0].value||0)/1e6+"",m,u,c,x,f,g="Estimated Payout",h,y,E,L,$,w,k,R=i[5]?"ZK Proof":"ECDSA Signature",q,B,M;function S(C,O){return C[4]?et:Xe}let F=S(i),V=F(i);const ae=[lt,ot,at,nt,rt,tt],N=[];function Z(C,O){return C[1]==="idle"?0:C[1]==="fetching"?1:C[1]==="awaiting_wallet"?2:C[1]==="sending"?3:C[1]==="confirmed"?4:C[1]==="error"?5:-1}return~(E=Z(i))&&(L=N[E]=ae[E](i)),{c(){e=b("div"),t=b("div"),r=b("h2"),r.textContent=a,d=T(),s=b("p"),o=A("Your score of "),m=A(l),u=A(" meets the minimum requirement."),c=T(),x=b("div"),f=b("p"),f.textContent=g,h=T(),V.c(),y=T(),L&&L.c(),$=T(),w=b("p"),k=A("Using "),q=A(R),B=A(" claim path."),this.h()},l(C){e=v(C,"DIV",{class:!0});var O=D(e);t=v(O,"DIV",{class:!0});var U=D(t);r=v(U,"H2",{class:!0,"data-svelte-h":!0}),H(r)!=="svelte-iiboyq"&&(r.textContent=a),d=P(U),s=v(U,"P",{class:!0});var le=D(s);o=I(le,"Your score of "),m=I(le,l),u=I(le," meets the minimum requirement."),le.forEach(_),U.forEach(_),c=P(O),x=v(O,"DIV",{class:!0});var Q=D(x);f=v(Q,"P",{class:!0,"data-svelte-h":!0}),H(f)!=="svelte-ltxc1m"&&(f.textContent=g),h=P(Q),V.l(Q),Q.forEach(_),y=P(O),L&&L.l(O),$=P(O),w=v(O,"P",{class:!0});var ce=D(w);k=I(ce,"Using "),q=I(ce,R),B=I(ce," claim path."),ce.forEach(_),O.forEach(_),this.h()},h(){p(r,"class","text-2xl font-bold"),p(s,"class","text-gray-500 mt-2"),p(t,"class","text-center"),p(f,"class","text-sm text-gray-500"),p(x,"class","my-6 bg-gray-50 p-4 rounded-lg border border-gray-200 text-center"),p(w,"class","text-xs text-gray-400 text-center mt-4"),p(e,"class","bg-white p-8 rounded-xl shadow-lg border border-gray-200")},m(C,O){j(C,e,O),n(e,t),n(t,r),n(t,d),n(t,s),n(s,o),n(s,m),n(s,u),n(e,c),n(e,x),n(x,f),n(x,h),V.m(x,null),n(e,y),~E&&N[E].m(e,null),n(e,$),n(e,w),n(w,k),n(w,q),n(w,B),M=!0},p(C,[O]){(!M||O&1)&&l!==(l=(C[0].value||0)/1e6+"")&&ne(m,l),F===(F=S(C))&&V?V.p(C,O):(V.d(1),V=F(C),V&&(V.c(),V.m(x,null)));let U=E;E=Z(C),E===U?~E&&N[E].p(C,O):(L&&(Ve(),K(N[U],1,1,()=>{N[U]=null}),Se()),~E?(L=N[E],L?L.p(C,O):(L=N[E]=ae[E](C),L.c()),W(L,1),L.m(e,$)):L=null)},i(C){M||(W(L),M=!0)},o(C){K(L),M=!1},d(C){C&&_(e),V.d(),~E&&N[E].d()}}}const dt=5;function ut(i,e,t){let r,a,d,s;ie(i,ve,$=>t(10,r=$)),ie(i,me,$=>t(0,a=$)),ie(i,Me,$=>t(7,d=$)),ie(i,ze,$=>t(11,s=$));let o="idle",l="",m=null,u=null,c=null,x=null;const f=s.data.config,g=!!f.AIRDROP_ZK_ADDR,h=g?f.AIRDROP_ZK_ADDR:f.AIRDROP_ECDSA_ADDR,y=g?Le:Re;async function E($,w){if(!Number.isFinite($)||$<=0)return;const k=d.minPayout,R=d.maxPayout;if(k===void 0||R===void 0)return;const q=`${$}:${w}:${h}`;if(!(q===c||q===x)){x=q;try{t(4,u=null);const B=await Ge(h,y,"quotePayout",[BigInt($)]);t(4,u={payout:B,min:k,max:R,decimals:w}),c=q}catch(B){console.error("Failed to fetch quote",B),he.error("Could not preview payout.")}finally{x===q&&(x=null)}}}async function L(){if(r.address){t(1,o="fetching"),t(2,l="");try{let $;if(g){const k=await He(r.address),R=a.value;if(typeof R=="number"){const q=Math.abs(k.score1e6-R);q>dt&&(console.warn("Score mismatch detected; aligning with backend value",{frontend:R,backend:k.score1e6,delta:q}),fe.setValue(k.score1e6),he.warning("Score updated from backend proof. Refreshing payoutâ€¦"))}else fe.setValue(k.score1e6);t(1,o="awaiting_wallet"),$=await Pe(h,y,"claim",[k.calldata,BigInt(k.score1e6)],r.address)}else{const k=await Fe(r.address,f.CAMPAIGN);if(k.addr.toLowerCase()!==r.address.toLowerCase())throw new Error("Artifact address mismatch");if(k.campaign.toLowerCase()!==f.CAMPAIGN.toLowerCase())throw new Error("Artifact campaign mismatch");if(k.deadline<Math.floor(Date.now()/1e3))throw new Error("Artifact has expired");t(1,o="awaiting_wallet"),$=await Pe(h,y,"claim",[k.circuitId,k.modelDigest,k.inputDigest,BigInt(k.score),BigInt(k.deadline),k.sig.v,k.sig.r,k.sig.s],r.address)}t(3,m=$),t(1,o="sending"),he.info(`Transaction sent: ${Ke($)}`),await(await Ue(async()=>{const{getPublicClient:k}=await import("../chunks/C5PuhdNm.js").then(R=>R.d3);return{getPublicClient:k}},__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)).getPublicClient().waitForTransactionReceipt({hash:$}),t(1,o="confirmed"),he.success("Claim successful!")}catch($){console.error("Claim failed:",$);const w=$;t(2,l=w.shortMessage||w.message||"An unknown error occurred."),he.error(l),t(1,o="error")}}}return i.$$.update=()=>{if(i.$$.dirty&129){const $=a.value,w=d.decimals;typeof $=="number"&&w!==void 0&&E($,w)}},[a,o,l,m,u,g,L,d]}class ft extends xe{constructor(e){super(),ye(this,e,ut,ct,we,{})}}function ht(i){let e,t,r,a,d,s,o;return r=new Qe({props:{class:"h-4 w-4"}}),{c(){e=b("div"),t=b("div"),re(r.$$.fragment),a=T(),d=b("p"),s=A(i[0]),this.h()},l(l){e=v(l,"DIV",{class:!0});var m=D(e);t=v(m,"DIV",{class:!0});var u=D(t);te(r.$$.fragment,u),u.forEach(_),a=P(m),d=v(m,"P",{class:!0});var c=D(d);s=I(c,i[0]),c.forEach(_),m.forEach(_),this.h()},h(){p(t,"class","flex-shrink-0 h-6 w-6 flex items-center justify-center rounded-full bg-[var(--brand)] text-white dark:bg-[var(--card-contrast)] dark:text-[var(--text)]"),p(d,"class","ml-3 text-[var(--muted-text)]"),p(e,"class","flex items-start")},m(l,m){j(l,e,m),n(e,t),ee(r,t,null),n(e,a),n(e,d),n(d,s),o=!0},p(l,[m]){(!o||m&1)&&ne(s,l[0])},i(l){o||(W(r.$$.fragment,l),o=!0)},o(l){K(r.$$.fragment,l),o=!1},d(l){l&&_(e),X(r)}}}function pt(i,e,t){let{text:r}=e;return i.$$set=a=>{"text"in a&&t(0,r=a.text)},[r]}class pe extends xe{constructor(e){super(),ye(this,e,pt,ht,we,{text:0})}}function mt(i){let e,t,r,a,d='<svg class="w-6 h-6 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>',s,o,l,m="You're Eligible!",u,c,x,f,g=((i[1].value||0)/1e6).toFixed(3)+"",h,y,E,L=i[3].toFixed(0)+"",$,w,k,R,q,B,M,S=i[2].enabled&&Te(i);return B=new ft({props:{role:"main","aria-labelledby":"claim-title","aria-describedby":"claim-description"}}),{c(){e=b("div"),t=b("div"),r=b("div"),a=b("div"),a.innerHTML=d,s=T(),o=b("div"),l=b("h3"),l.textContent=m,u=T(),c=b("p"),x=A("Your reputation score of "),f=b("strong"),h=A(g),y=A(`
              qualifies you for approximately `),E=b("strong"),$=A(L),w=A(" tokens"),k=A("."),R=T(),S&&S.c(),q=T(),re(B.$$.fragment),this.h()},l(F){e=v(F,"DIV",{class:!0});var V=D(e);t=v(V,"DIV",{class:!0});var ae=D(t);r=v(ae,"DIV",{class:!0});var N=D(r);a=v(N,"DIV",{class:!0,"data-svelte-h":!0}),H(a)!=="svelte-1paiyeh"&&(a.innerHTML=d),s=P(N),o=v(N,"DIV",{class:!0});var Z=D(o);l=v(Z,"H3",{class:!0,"data-svelte-h":!0}),H(l)!=="svelte-o7kyn6"&&(l.textContent=m),u=P(Z),c=v(Z,"P",{class:!0});var C=D(c);x=I(C,"Your reputation score of "),f=v(C,"STRONG",{});var O=D(f);h=I(O,g),O.forEach(_),y=I(C,`
              qualifies you for approximately `),E=v(C,"STRONG",{});var U=D(E);$=I(U,L),w=I(U," tokens"),U.forEach(_),k=I(C,"."),C.forEach(_),R=P(Z),S&&S.l(Z),Z.forEach(_),N.forEach(_),ae.forEach(_),q=P(V),te(B.$$.fragment,V),V.forEach(_),this.h()},h(){p(a,"class","w-12 h-12 bg-green-100 dark:bg-green-900/40 rounded-full flex items-center justify-center flex-shrink-0"),p(l,"class","text-lg font-semibold text-green-800 dark:text-green-200"),p(c,"class","text-green-700 dark:text-green-300"),p(o,"class","flex-1"),p(r,"class","flex items-center gap-4"),p(t,"class","card bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700"),p(e,"class","space-y-6")},m(F,V){j(F,e,V),n(e,t),n(t,r),n(r,a),n(r,s),n(r,o),n(o,l),n(o,u),n(o,c),n(c,x),n(c,f),n(f,h),n(c,y),n(c,E),n(E,$),n(E,w),n(c,k),n(o,R),S&&S.m(o,null),n(e,q),ee(B,e,null),M=!0},p(F,V){(!M||V&2)&&g!==(g=((F[1].value||0)/1e6).toFixed(3)+"")&&ne(h,g),(!M||V&8)&&L!==(L=F[3].toFixed(0)+"")&&ne($,L),F[2].enabled?S?S.p(F,V):(S=Te(F),S.c(),S.m(o,null)):S&&(S.d(1),S=null)},i(F){M||(W(B.$$.fragment,F),M=!0)},o(F){K(B.$$.fragment,F),M=!1},d(F){F&&_(e),S&&S.d(),X(B)}}}function gt(i){let e,t,r,a='<svg class="w-8 h-8 text-yellow-600 dark:text-yellow-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg>',d,s,o="Not Eligible Yet",l,m,u,c,x=((i[1].value||0)/1e6).toFixed(3)+"",f,g,h,y=((i[0].floor||0)/1e6).toFixed(3)+"",E,L,$,w,k,R,q="How to increase your reputation:",B,M,S,F,V,ae,N,Z,C,O,U,le,Q,ce=`<a href="/attest" class="inline-flex items-center gap-2 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2" role="button" aria-label="Navigate to attestation page to start building reputation">Start Building Reputation
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></a>`,de,G=i[2].enabled&&Ie(i);return S=new pe({props:{text:"Verify your personhood with Worldcoin or similar providers"}}),V=new pe({props:{text:"Connect your developer accounts (GitHub, GitLab) to showcase contributions"}}),N=new pe({props:{text:"Receive vouches from trusted members of the network"}}),C=new pe({props:{text:"Participate in governance and community activities"}}),U=new pe({props:{text:"Earn credentials through recognized platforms"}}),{c(){e=b("div"),t=b("div"),r=b("div"),r.innerHTML=a,d=T(),s=b("h2"),s.textContent=o,l=T(),m=b("p"),u=A("Your current reputation score is "),c=b("strong"),f=A(x),g=A(", but you need at least "),h=b("strong"),E=A(y),L=A(` to be
          eligible.`),$=T(),G&&G.c(),w=T(),k=b("div"),R=b("h3"),R.textContent=q,B=T(),M=b("div"),re(S.$$.fragment),F=T(),re(V.$$.fragment),ae=T(),re(N.$$.fragment),Z=T(),re(C.$$.fragment),O=T(),re(U.$$.fragment),le=T(),Q=b("div"),Q.innerHTML=ce,this.h()},l(Y){e=v(Y,"DIV",{class:!0});var J=D(e);t=v(J,"DIV",{class:!0});var se=D(t);r=v(se,"DIV",{class:!0,"data-svelte-h":!0}),H(r)!=="svelte-1le6szh"&&(r.innerHTML=a),d=P(se),s=v(se,"H2",{class:!0,"data-svelte-h":!0}),H(s)!=="svelte-3dm70t"&&(s.textContent=o),l=P(se),m=v(se,"P",{class:!0});var ue=D(m);u=I(ue,"Your current reputation score is "),c=v(ue,"STRONG",{});var Ee=D(c);f=I(Ee,x),Ee.forEach(_),g=I(ue,", but you need at least "),h=v(ue,"STRONG",{});var $e=D(h);E=I($e,y),$e.forEach(_),L=I(ue,` to be
          eligible.`),ue.forEach(_),$=P(se),G&&G.l(se),se.forEach(_),w=P(J),k=v(J,"DIV",{class:!0});var ge=D(k);R=v(ge,"H3",{class:!0,"data-svelte-h":!0}),H(R)!=="svelte-mkocdu"&&(R.textContent=q),B=P(ge),M=v(ge,"DIV",{class:!0});var oe=D(M);te(S.$$.fragment,oe),F=P(oe),te(V.$$.fragment,oe),ae=P(oe),te(N.$$.fragment,oe),Z=P(oe),te(C.$$.fragment,oe),O=P(oe),te(U.$$.fragment,oe),oe.forEach(_),ge.forEach(_),le=P(J),Q=v(J,"DIV",{class:!0,"data-svelte-h":!0}),H(Q)!=="svelte-gsrznt"&&(Q.innerHTML=ce),J.forEach(_),this.h()},h(){p(r,"class","w-16 h-16 mx-auto mb-4 bg-yellow-100 dark:bg-yellow-900/20 rounded-full flex items-center justify-center"),p(s,"class","text-2xl text-[var(--fg-primary)] mb-2"),p(m,"class","text-[var(--fg-secondary)] mb-4"),p(t,"class","text-center mb-6"),p(R,"class","text-lg text-[var(--fg-primary)] font-semibold"),p(M,"class","space-y-3"),p(k,"class","space-y-4"),p(Q,"class","mt-8 text-center"),p(e,"class","card")},m(Y,J){j(Y,e,J),n(e,t),n(t,r),n(t,d),n(t,s),n(t,l),n(t,m),n(m,u),n(m,c),n(c,f),n(m,g),n(m,h),n(h,E),n(m,L),n(t,$),G&&G.m(t,null),n(e,w),n(e,k),n(k,R),n(k,B),n(k,M),ee(S,M,null),n(M,F),ee(V,M,null),n(M,ae),ee(N,M,null),n(M,Z),ee(C,M,null),n(M,O),ee(U,M,null),n(e,le),n(e,Q),de=!0},p(Y,J){(!de||J&2)&&x!==(x=((Y[1].value||0)/1e6).toFixed(3)+"")&&ne(f,x),(!de||J&1)&&y!==(y=((Y[0].floor||0)/1e6).toFixed(3)+"")&&ne(E,y),Y[2].enabled?G?G.p(Y,J):(G=Ie(Y),G.c(),G.m(t,null)):G&&(G.d(1),G=null)},i(Y){de||(W(S.$$.fragment,Y),W(V.$$.fragment,Y),W(N.$$.fragment,Y),W(C.$$.fragment,Y),W(U.$$.fragment,Y),de=!0)},o(Y){K(S.$$.fragment,Y),K(V.$$.fragment,Y),K(N.$$.fragment,Y),K(C.$$.fragment,Y),K(U.$$.fragment,Y),de=!1},d(Y){Y&&_(e),G&&G.d(),X(S),X(V),X(N),X(C),X(U)}}}function vt(i){let e,t='<div class="text-center mb-6"><div class="w-16 h-16 mx-auto mb-4 bg-gray-200 dark:bg-gray-700 rounded-full"></div> <h2 class="text-2xl mb-2 bg-gray-200 dark:bg-gray-700 h-8 rounded w-48 mx-auto"></h2> <p class="text-[var(--fg-secondary)] bg-gray-200 dark:bg-gray-700 h-4 rounded w-64 mx-auto"></p></div> <div class="space-y-4"><div class="flex justify-between items-center p-4 bg-gray-100 dark:bg-gray-800 rounded-lg"><div class="bg-gray-200 dark:bg-gray-700 h-4 rounded w-20"></div> <div class="bg-gray-200 dark:bg-gray-700 h-4 rounded w-12"></div></div> <div class="flex justify-between items-center p-4 bg-gray-100 dark:bg-gray-800 rounded-lg"><div class="bg-gray-200 dark:bg-gray-700 h-4 rounded w-24"></div> <div class="bg-gray-200 dark:bg-gray-700 h-4 rounded w-16"></div></div> <div class="flex justify-between items-center p-4 bg-gray-100 dark:bg-gray-800 rounded-lg"><div class="bg-gray-200 dark:bg-gray-700 h-4 rounded w-28"></div> <div class="bg-gray-200 dark:bg-gray-700 h-4 rounded w-20"></div></div></div> <div class="mt-8 text-center"><div class="bg-gray-200 dark:bg-gray-700 h-12 rounded-lg w-48 mx-auto"></div></div>';return{c(){e=b("div"),e.innerHTML=t,this.h()},l(r){e=v(r,"DIV",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-psq6c7"&&(e.innerHTML=t),this.h()},h(){p(e,"class","card animate-pulse")},m(r,a){j(r,e,a)},p:z,i:z,o:z,d(r){r&&_(e)}}}function bt(i){let e,t='<div class="text-[var(--accent-warn)] font-medium mb-2">Connect Your Wallet to Continue</div> <p class="text-[var(--fg-secondary)] mb-4">You need to connect your wallet to check your reputation score and claim your airdrop.</p> <div class="text-sm text-[var(--fg-muted)]">Click the &quot;Connect&quot; button in the top right corner to get started.</div>';return{c(){e=b("div"),e.innerHTML=t,this.h()},l(r){e=v(r,"DIV",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-182i9bh"&&(e.innerHTML=t),this.h()},h(){p(e,"class","card bg-[var(--accent-warn)]/10 border border-[var(--accent-warn)]/30 text-center")},m(r,a){j(r,e,a)},p:z,i:z,o:z,d(r){r&&_(e)}}}function _t(i){let e,t,r='<svg class="animate-spin h-8 w-8 text-purple-600" viewBox="0 0 24 24" fill="none"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="3"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"></path></svg>',a,d,s="Connecting to Wallet",o,l;function m(x,f){return x[2].enabled&&x[2].simulateSlowConnection?wt:yt}let u=m(i),c=u(i);return{c(){e=b("div"),t=b("div"),t.innerHTML=r,a=T(),d=b("h2"),d.textContent=s,o=T(),l=b("p"),c.c(),this.h()},l(x){e=v(x,"DIV",{class:!0});var f=D(e);t=v(f,"DIV",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-4n2prr"&&(t.innerHTML=r),a=P(f),d=v(f,"H2",{class:!0,"data-svelte-h":!0}),H(d)!=="svelte-xlshq7"&&(d.textContent=s),o=P(f),l=v(f,"P",{class:!0});var g=D(l);c.l(g),g.forEach(_),f.forEach(_),this.h()},h(){p(t,"class","flex items-center justify-center mb-4"),p(d,"class","text-xl text-[var(--fg-primary)] mb-2"),p(l,"class","text-[var(--fg-secondary)]"),p(e,"class","card text-center")},m(x,f){j(x,e,f),n(e,t),n(e,a),n(e,d),n(e,o),n(e,l),c.m(l,null)},p(x,f){u!==(u=m(x))&&(c.d(1),c=u(x),c&&(c.c(),c.m(l,null)))},i:z,o:z,d(x){x&&_(e),c.d()}}}function xt(i){let e,t,r,a="Connection Failed",d,s,o=i[2].error+"",l,m,u,c="Try Again",x,f;return{c(){e=b("div"),t=b("div"),r=b("div"),r.textContent=a,d=T(),s=b("p"),l=A(o),m=T(),u=b("button"),u.textContent=c,this.h()},l(g){e=v(g,"DIV",{class:!0});var h=D(e);t=v(h,"DIV",{class:!0});var y=D(t);r=v(y,"DIV",{class:!0,"data-svelte-h":!0}),H(r)!=="svelte-1qqlgnw"&&(r.textContent=a),d=P(y),s=v(y,"P",{class:!0});var E=D(s);l=I(E,o),E.forEach(_),m=P(y),u=v(y,"BUTTON",{class:!0,"data-svelte-h":!0}),H(u)!=="svelte-1a4g21l"&&(u.textContent=c),y.forEach(_),h.forEach(_),this.h()},h(){p(r,"class","text-[var(--accent-error)] font-medium mb-2"),p(s,"class","text-[var(--fg-secondary)] mb-4"),p(u,"class","px-4 py-2 bg-[var(--accent-error)] text-white rounded-lg hover:opacity-90 transition-opacity"),p(t,"class","text-center"),p(e,"class","card bg-[var(--accent-error)]/10 border border-[var(--accent-error)]/30")},m(g,h){j(g,e,h),n(e,t),n(t,r),n(t,d),n(t,s),n(s,l),n(t,m),n(t,u),x||(f=ke(u,"click",i[11]),x=!0)},p(g,h){h&4&&o!==(o=g[2].error+"")&&ne(l,o)},i:z,o:z,d(g){g&&_(e),x=!1,f()}}}function Te(i){let e,t,r,a;return{c(){e=b("p"),t=A("Demo: "),r=A(i[4]),a=A(" reputation tier"),this.h()},l(d){e=v(d,"P",{class:!0});var s=D(e);t=I(s,"Demo: "),r=I(s,i[4]),a=I(s," reputation tier"),s.forEach(_),this.h()},h(){p(e,"class","text-sm text-green-600 dark:text-green-400 mt-1")},m(d,s){j(d,e,s),n(e,t),n(e,r),n(e,a)},p(d,s){s&16&&ne(r,d[4])},d(d){d&&_(e)}}}function Ie(i){let e,t,r="Demo Mode:",a,d,s;return{c(){e=b("div"),t=b("strong"),t.textContent=r,a=A(' This user has a "'),d=A(i[4]),s=A(`" reputation tier. Use the
            mock controller (gear icon) to switch to a different user type.`),this.h()},l(o){e=v(o,"DIV",{class:!0});var l=D(e);t=v(l,"STRONG",{"data-svelte-h":!0}),H(t)!=="svelte-t3qvd0"&&(t.textContent=r),a=I(l,' This user has a "'),d=I(l,i[4]),s=I(l,`" reputation tier. Use the
            mock controller (gear icon) to switch to a different user type.`),l.forEach(_),this.h()},h(){p(e,"class","text-sm text-[var(--fg-muted)] bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg mb-6")},m(o,l){j(o,e,l),n(e,t),n(e,a),n(e,d),n(e,s)},p(o,l){l&16&&ne(d,o[4])},d(o){o&&_(e)}}}function yt(i){let e;return{c(){e=A("Please approve the connection in your wallet")},l(t){e=I(t,"Please approve the connection in your wallet")},m(t,r){j(t,e,r)},d(t){t&&_(e)}}}function wt(i){let e;return{c(){e=A("This is taking a while... (simulated slow connection)")},l(t){e=I(t,"This is taking a while... (simulated slow connection)")},m(t,r){j(t,e,r)},d(t){t&&_(e)}}}function kt(i){let e,t,r,a,d='<h1 class="page-title text-[var(--fg-primary)]">Claim Your Airdrop</h1> <p class="mt-3 text-lg text-[var(--fg-secondary)]">Follow the steps below to securely claim your tokens.</p>',s,o,l,m;const u=[xt,_t,bt,vt,gt,mt],c=[];function x(f,g){return f[6]?0:f[7]?1:f[8]?f[1].loading?3:f[5]?5:4:2}return o=x(i),l=c[o]=u[o](i),{c(){e=b("meta"),t=T(),r=b("div"),a=b("div"),a.innerHTML=d,s=T(),l.c(),this.h()},l(f){const g=je("svelte-cl5kyp",document.head);e=v(g,"META",{name:!0,content:!0}),g.forEach(_),t=P(f),r=v(f,"DIV",{class:!0});var h=D(r);a=v(h,"DIV",{class:!0,"data-svelte-h":!0}),H(a)!=="svelte-1sokie3"&&(a.innerHTML=d),s=P(h),l.l(h),h.forEach(_),this.h()},h(){document.title="Claim Your Airdrop - Shadowgraph",p(e,"name","description"),p(e,"content","Claim your reputation-based airdrop tokens securely."),p(a,"class","text-center mb-10"),p(r,"class","max-w-2xl mx-auto")},m(f,g){n(document.head,e),j(f,t,g),j(f,r,g),n(r,a),n(r,s),c[o].m(r,null),m=!0},p(f,[g]){let h=o;o=x(f),o===h?c[o].p(f,g):(Ve(),K(c[h],1,1,()=>{c[h]=null}),Se(),l=c[o],l?l.p(f,g):(l=c[o]=u[o](f),l.c()),W(l,1),l.m(r,null))},i(f){m||(W(l),m=!0)},o(f){K(l),m=!1},d(f){f&&(_(t),_(r)),_(e),c[o].d()}}}function Ct(i,e,t){let r,a,d,s,o,l,m,u,c,x;ie(i,Me,w=>t(0,m=w)),ie(i,me,w=>t(1,u=w)),ie(i,Ne,w=>t(2,c=w)),ie(i,ve,w=>t(10,x=w));let{data:f}=e,g=null,h=null,y;async function E(w){if(!(h===w||g===w)){h=w,fe.setLoading(!0);try{const k=await Ae(w);if(!k)throw new Error("No score data returned");fe.setValue(k.score1e6??0),me.update(R=>({...R,loading:!1,lastUpdated:k.updatedAt,error:void 0})),g=w}catch(k){console.error("Failed to load score for claim page:",k),fe.setError("Failed to load reputation score.")}finally{h===w&&(h=null)}}}qe(()=>{f.scoreData?me.set({loading:!1,value:f.scoreData.score1e6,lastUpdated:f.scoreData.updatedAt}):f.error&&me.set({loading:!1,error:f.error}),y=ve.subscribe(w=>{!c.enabled&&w.connected&&w.address?E(w.address):!c.enabled&&(!w.connected||!w.address)&&(g=null,fe.reset())})}),Ye(()=>{y&&y()});function L(w,k){const{floor:R,cap:q,minPayout:B,maxPayout:M,decimals:S}=k;if(!w||R===void 0||q===void 0||B===void 0||M===void 0||S===void 0||w<R)return 0;const F=Math.min(w,q),V=q-R;if(V<=0)return Number(_e(M,S));const ae=(F-R)/V,N=Number(_e(B,S)),Z=Number(_e(M,S)),C=Math.max(0,Z-N);return N+ae*C}const $=()=>window.location.reload();return i.$$set=w=>{"data"in w&&t(9,f=w.data)},i.$$.update=()=>{i.$$.dirty&1028&&t(8,r=x.connected||c.enabled&&c.connectionState==="connected"),i.$$.dirty&4&&t(7,a=c.enabled&&c.connectionState==="connecting"),i.$$.dirty&4&&t(6,d=c.enabled&&c.connectionState==="error"),i.$$.dirty&3&&t(5,s=(u.value||0)>=(m.floor||0)),i.$$.dirty&4&&t(4,o=c.enabled?c.userReputationTier:"unknown"),i.$$.dirty&3&&t(3,l=L(u.value||0,m))},[m,u,c,l,o,s,d,a,r,f,x,$]}class Nt extends xe{constructor(e){super(),ye(this,e,Ct,kt,we,{data:9})}}export{Nt as component,Ft as universal};
