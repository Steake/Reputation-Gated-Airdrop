import{w as l}from"./D7JtYkVa.js";import{F as a}from"./CkpMGzDD.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};t.SENTRY_RELEASE={id:"b1e593ae5130a8a866939fcd32d632e0f276c846"}}catch{}})();try{(function(){var t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},n=new t.Error().stack;n&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[n]="6f5c5a0b-c023-4cdc-9e22-54f10e6e3594",t._sentryDebugIdIdentifier="sentry-dbid-6f5c5a0b-c023-4cdc-9e22-54f10e6e3594")})()}catch{}const i=l({connected:!1,selectedChainId:11155111,error:null}),C=l(11155111),u={enabled:!1,connectionState:"disconnected",walletType:null,address:null,chainId:11155111,error:null,userReputationTier:"medium",networkSupported:!0,balanceETH:"0.5",simulateSlowConnection:!1,autoFailConnection:!1};typeof window<"u"&&(window.mockWalletTesting={setHighRepUser:()=>e.presets.highReputationUser(),setMediumRepUser:()=>e.presets.mediumReputationUser(),setThresholdUser:()=>e.presets.thresholdUser(),setIneligibleUser:()=>e.presets.ineligibleUser(),setConnectionError:()=>e.presets.connectionError(),setDisconnected:()=>e.presets.disconnected(),getCurrentState:()=>{const t=a(o);return{enabled:t.enabled,connectionState:t.connectionState,walletType:t.walletType,address:t.address,userReputationTier:t.userReputationTier,error:t.error}}});const o=l(u),r={high:"0x742d35Cc6609C0532C50D8C3E4dE9B45C4E4E8c1",medium:"0xA4B6C2C5D8E9F1234567890ABCDEF1234567890B",threshold:"0x1234567890ABCDEF1234567890ABCDEF12345678",ineligible:"0x9876543210FEDCBA9876543210FEDCBA98765432"},m={metamask:{name:"MetaMask",icon:"ðŸ¦Š",connectionTime:1500},walletconnect:{name:"WalletConnect",icon:"ðŸ”—",connectionTime:3e3},coinbase:{name:"Coinbase Wallet",icon:"ðŸŸ¦",connectionTime:2e3},trust:{name:"Trust Wallet",icon:"â­",connectionTime:1800}},e={setEnabled:t=>{o.update(n=>({...n,enabled:t})),t||e.reset()},reset:()=>{o.set(u),i.set({connected:!1})},setConnectionState:t=>{o.update(s=>({...s,connectionState:t}));const n=a(o);n.enabled&&i.set({connected:t==="connected",address:t==="connected"?n.address:void 0,chainId:t==="connected"?n.chainId:void 0})},setWalletType:t=>{o.update(n=>({...n,walletType:t}))},setReputationTier:t=>{o.update(s=>({...s,userReputationTier:t,address:r[t]}));const n=a(o);n.enabled&&n.connectionState==="connected"&&i.update(s=>({...s,address:r[t]}))},setChainId:t=>{o.update(s=>({...s,chainId:t,networkSupported:t===11155111||t===1}));const n=a(o);n.enabled&&n.connectionState==="connected"&&i.update(s=>({...s,chainId:t}))},setError:t=>{o.update(n=>({...n,error:t,connectionState:t?"error":n.connectionState}))},setConnectionBehavior:(t=!1,n=!1)=>{o.update(s=>({...s,simulateSlowConnection:t,autoFailConnection:n}))},simulateConnection:async t=>{const n=a(o);if(!n.enabled)return;e.setWalletType(t),e.setConnectionState("connecting");const s=t?m[t].connectionTime:2e3,p=n.simulateSlowConnection?s*2:s;if(await new Promise(c=>setTimeout(c,p)),n.autoFailConnection){e.setError("User rejected the connection request");return}const d=r[n.userReputationTier];o.update(c=>({...c,address:d,connectionState:"connected",error:null})),i.set({connected:!0,address:d,chainId:n.chainId})},simulateDisconnection:async()=>{a(o).enabled&&(e.setConnectionState("disconnected"),o.update(n=>({...n,address:null,error:null})),i.set({connected:!1}))},simulateNetworkSwitch:async t=>{const n=a(o);!n.enabled||n.connectionState!=="connected"||(e.setConnectionState("switching"),await new Promise(s=>setTimeout(s,1500)),e.setChainId(t),e.setConnectionState("connected"))},presets:{disconnected:()=>{e.setEnabled(!0),e.setConnectionState("disconnected"),e.setWalletType(null),e.setError(null)},highReputationUser:()=>{e.setEnabled(!0),e.setReputationTier("high"),e.setWalletType("metamask"),e.setConnectionState("connected"),e.setError(null)},mediumReputationUser:()=>{e.setEnabled(!0),e.setReputationTier("medium"),e.setWalletType("walletconnect"),e.setConnectionState("connected"),e.setError(null)},thresholdUser:()=>{e.setEnabled(!0),e.setReputationTier("threshold"),e.setWalletType("coinbase"),e.setConnectionState("connected"),e.setError(null)},ineligibleUser:()=>{e.setEnabled(!0),e.setReputationTier("ineligible"),e.setWalletType("trust"),e.setConnectionState("connected"),e.setError(null)},connectionError:()=>{e.setEnabled(!0),e.setConnectionState("error"),e.setError("Failed to connect to MetaMask. Please ensure it's installed and unlocked."),e.setWalletType("metamask")},wrongNetwork:()=>{e.setEnabled(!0),e.setReputationTier("medium"),e.setWalletType("metamask"),e.setConnectionState("connected"),e.setChainId(56),e.setError(null)},slowConnection:()=>{e.setEnabled(!0),e.setConnectionBehavior(!0,!1),e.setConnectionState("disconnected")}}};export{o as a,m as b,e as c,C as s,i as w};
